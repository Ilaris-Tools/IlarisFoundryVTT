{{!-- Effect Item Sheet Template --}}
<form class="{{cssClass}} flexcol" autocomplete="off">
    
    {{!-- Sheet Header --}}
    <header class="sheet-header">
        <img class="profile-img" src="{{item.img}}" data-edit="img" title="{{item.name}}" height="64" width="64"/>
        
        <div class="header-fields">
            <h1 class="charname">
                <input name="name" type="text" value="{{item.name}}" placeholder="Effect Container Name"/>
            </h1>
            
            <div class="resource">
                <label>Typ:</label>
                <span>{{item.type}}</span>
            </div>
        </div>
    </header>

    {{!-- Sheet Body --}}
    <section class="sheet-body">
        
        {{!-- Description Section --}}
        <div class="form-group stacked" style="margin-bottom: 1rem;">
            <label>Beschreibung</label>
            <textarea rows="6" name="system.description">{{item.system.description}}</textarea>
        </div>
        
        <hr style="margin: 1rem 0;" />
        
        {{!-- Effects Section --}}
        <div class="effects-section">
            <div class="flexrow" style="margin-bottom: 0.5rem; align-items: center;">
                <label><b>Aktive Effekte:</b></label>
                <a class="effect-control" data-action="create" title="Neuen Effekt erstellen">
                    <button class="clickable" type="button">
                        <i class="fas fa-plus"></i> Effekt hinzufügen
                    </button>
                </a>
            </div>
            
            {{#if effects.length}}
            <div class="effects-list">
                {{#each effects as |effect|}}
                <div class="effect-item flexrow" data-effect-id="{{effect._id}}">
                    <div class="effect-image">
                        <img src="{{effect.img}}" alt="{{effect.name}}" width="24" height="24"/>
                    </div>
                    <div class="effect-name" style="flex: 1; padding: 0 0.5rem;">
                        <strong>{{effect.name}}</strong>
                        {{#if effect.disabled}}<em>(Deaktiviert)</em>{{/if}}
                    </div>
                    <div class="effect-controls" style="display: flex; gap: 0.25rem;">
                        <a class="effect-control" data-action="edit" data-effect-id="{{effect._id}}" title="Effekt bearbeiten">
                            <i class="fas fa-edit"></i>
                        </a>
                        <a class="effect-control" data-action="toggle" data-effect-id="{{effect._id}}" title="Effekt aktivieren/deaktivieren">
                            {{#if effect.disabled}}
                                <i class="fas fa-eye-slash"></i>
                            {{else}}
                                <i class="fas fa-eye"></i>
                            {{/if}}
                        </a>
                        <a class="effect-control" data-action="delete" data-effect-id="{{effect._id}}" title="Effekt löschen">
                            <i class="fas fa-trash"></i>
                        </a>
                    </div>
                </div>
                {{/each}}
            </div>
            {{else}}
            <div class="no-effects" style="padding: 1rem; text-align: center; border: 1px dashed #999; border-radius: 4px; margin-top: 0.5rem;">
                <em>Keine aktiven Effekte vorhanden.</em>
            </div>
            {{/if}}
        </div>
        
        <hr style="margin: 1rem 0;" />
        
        {{!-- Info Text --}}
        <div class="hint" style="font-size: 0.9em; color: #666; padding: 0.5rem; background: rgba(0,0,0,0.05); border-radius: 4px;">
            <i class="fas fa-info-circle"></i> 
            <strong>Hinweis:</strong> Dieses Item dient als Container für Active Effects. 
            Wenn es auf einen Actor gezogen wird, werden die enthaltenen Effects auf den Actor angewendet.
        </div>

    </section>
</form>
